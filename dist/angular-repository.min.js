!function(e){function r(o){if(t[o])return t[o].exports;var n=t[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r,t){function o(e){"use strict";var r="vRepository";return e.module(r,["ngResource"]).provider("RepositoryFactory",s.RepositoryFactoryProvider),r}var n,i,u,s=("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},t(2));!function(o,s){"use strict";i=[t(4)],n=s,u="function"==typeof n?n.apply(r,i):n,!(void 0!==u&&(e.exports=u))}(void 0,o)},function(e,r,t){"use strict";function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0}),r.RepositoryFactory=void 0;var n=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),i=t(3);r.RepositoryFactory=function(){function e(r,t){o(this,e),this.required=["url"];for(var n in this.required)if(this.required.hasOwnProperty(n)){if(!r.hasOwnProperty(this.required[n]))throw new Error("Missing parameter: "+this.required[n]+".");if("url"===this.required[n]&&!this.isURL(r.url))throw new Error("Parameter: "+r.url+" is not valid url.")}this.config=r,this.resource=t}return n(e,[{key:"getRepository",value:function(e,r,t,o){return t=t||this.config.onSuccess,o=o||this.config.onError,new i.Repository(e,r,this.config.url,this.resource,t,o)}},{key:"isURL",value:function(e){var r="^((https?|ftp|rtsp|mms)?://)?(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z].[a-z]{2,6}|localhost)(:[0-9]{1,4})?((/?)|(/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+/?)$",t=new RegExp(r);return t.test(e)}}]),e}()},function(e,r,t){"use strict";function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0}),r.RepositoryFactoryProvider=void 0;var n=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),i=t(1);r.RepositoryFactoryProvider=function(){function e(){o(this,e),this.$get.$inject=["$resource"],this.config={}}return n(e,[{key:"configure",value:function(e){for(var r in e)e.hasOwnProperty(r)&&(this.config[r]=e[r])}},{key:"$get",value:function(e){return new i.RepositoryFactory(this.config,e)}}]),e}()},function(e,r){"use strict";function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}();r.Repository=function(){function e(r,o,n,i,u,s){t(this,e),this.url=n,this.model=r,this.$resource=i,this.resource=this.getResource(o),this.onError="function"==typeof s?s.bind(this):void 0,this.onSuccess="function"==typeof u?u.bind(this):void 0}return o(e,[{key:"getAll",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=this.resource.query(e);return this.returnPromise(r)}},{key:"getById",value:function(e){var r=this.resource.get({id:e});return this.returnPromise(r)}},{key:"create",value:function(e){var r=new this.resource(e);return r.$save().then(this.onSuccess,this.onError)}},{key:"update",value:function(e,r){r.id=e;var t=new this.resource(r);return t.$update().then(this.onSuccess,this.onError)}},{key:"remove",value:function(e){var r={id:e},t=new this.resource(r);return t.$delete().then(this.onSuccess,this.onError)}},{key:"getResource",value:function(e){return"/"===e.substr(-1)&&(e=e.slice(0,-1)),this.$resource(this.url+e+"/:id",{id:"@id"},{update:{method:"PUT"},get:{method:"GET"},save:{method:"POST"},query:{method:"GET"},remove:{method:"DELETE"},"delete":{method:"DELETE"}})}},{key:"transformRequest",value:function(e){var r=[];for(var t in e)e.hasOwnProperty(t)&&r.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return r.join("&")}},{key:"returnPromise",value:function(e){return e.$promise.then(this.onSuccess,this.onError)}}]),e}()},function(e,r){e.exports=angular}]);